{"version":3,"sources":["../../src/pages/work-bench/journal-sheet/visit-list/visit-list.ts","../../src/pages/work-bench/journal-sheet/visit-list/visit-list.module.ts","webpack:///./src/pages/work-bench/journal-sheet/writejournalService.ts?9817"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAA+D;AACT;AACZ;AAC0B;AACf;AACE;AAC2B;AACzC;AAEzC;;;;;GAKG;AAOH,IAAa,aAAa;IAkBxB,uBAAmB,OAAsB,EAAS,SAAoB,EAC7D,SAAmB,EAClB,UAAsB,EACvB,OAAgB,EAChB,mBAAwC,EACvC,SAA0B;QALpC,iBAmDC;QAnDkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC7D,cAAS,GAAT,SAAS,CAAU;QAClB,eAAU,GAAV,UAAU,CAAY;QACvB,YAAO,GAAP,OAAO,CAAS;QAChB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACvC,cAAS,GAAT,SAAS,CAAiB;QAlBpC,aAAQ,GAAG,EAAE,CAAC;QACd,WAAM,GAAG,KAAK,CAAC;QAMf,cAAS,GAAG,EAAE,CAAC;QAGf,eAAU,GAAG,KAAK,CAAC;QACnB,UAAK,GAAG,KAAK;QACb,YAAO,GAAG,KAAK;QAOb,IAAI,CAAC,SAAS,GAAC,CAAC,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,EAAE,YAAY,CAAC;QACjE,IAAI,CAAC,aAAa,GAAG,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,EAAE,YAAY,CAAC;QAE/D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;aACvB,IAAI,CAAC,aAAG;YACP,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC3C,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC;gBAC3B,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;gBACnD,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;gBAChD,KAAI,CAAC,YAAY,EAAE;YACrB,CAAC;YACD,GAAG,EAAgB,UAA0B,EAA1B,QAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAA1B,cAA0B,EAA1B,IAA0B;gBAAzC,IAAI,OAAO;gBACb,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,oBAAoB,CAAC,EAAC;oBACxC,KAAI,CAAC,KAAK,GAAG,IAAI;oBACjB,KAAI,CAAC,YAAY,EAAE;oBACnB,KAAK,CAAC;gBACR,CAAC;gBACD,EAAE,EAAC,OAAO,CAAC,IAAI,IAAI,+BAA+B,CAAC,EAAC;oBAClD,KAAI,CAAC,OAAO,GAAG,IAAI;oBACnB,KAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,aAAG;wBAC3D,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAE,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,EAAC;4BACvC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;4BAChB,IAAI,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ;4BAC9B,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;4BACzB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCAC9B,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO;4BACnC,CAAC;4BACD,KAAI,CAAC,YAAY,EAAE,CAAC;wBACxB,CAAC;oBACF,CAAC,CACD;gBACH,CAAC;aACF;YACD,UAAU;YACR,IAAI,IAAI,GAAG;gBACT,OAAO,EAAE,KAAI,CAAC,OAAO;aACtB;YACD,KAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAG;gBACzD,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAE,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,EAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;oBAChB,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ;gBACtC,CAAC;YACH,CAAC,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;IACN,oCAAY,GAAZ;QAAA,iBAgBC;QAfG,IAAI,OAAO,GAAG;YACZ,KAAK,EAAE,IAAI;YACX,SAAS,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,EAAE,YAAY,CAAC;YACrD,GAAG,EAAE,IAAI,CAAC,OAAO;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,SAAS,EAAE,IAAI,CAAC,SAAS;SAC1B;QACD,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,aAAG;YACvD,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAE,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,EAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;gBAChB,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ;YACrC,CAAC;QACH,CAAC,CAAC;IACN,CAAC;IACD,uCAAe,GAAf;QACE,OAAO,CAAC,GAAG,CAAC,sBAAsB,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACnE,OAAO,CAAC,GAAG,CAAC,oBAAoB,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC/D,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAC;YACnE,IAAI,CAAC,KAAK,GAAG,KAAK;YAClB,IAAI,CAAC,OAAO,GAAG,KAAK;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;YAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACpC,IAAI,CAAC,OAAO,EAAE;QAChB,CAAC;IACH,CAAC;IACD,wCAAgB,GAAhB;QACE,IAAI,CAAC,SAAS,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;IACrC,CAAC;IACD,+BAAO,GAAP;QAAA,iBA+BC;QA9BC,IAAI,CAAC,QAAQ,GAAG,EAAE;QAClB,IAAI,IAAI,CAAC;QACT,EAAE,EAAC,IAAI,CAAC,SAAS,IAAE,CAAC,CAAC,CAAC,EAAC;YACrB,IAAI,GAAG;gBACL,SAAS,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,YAAY,CAAC;gBACzE,OAAO,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,YAAY,CAAC;gBACrE,GAAG,EAAE,IAAI,CAAC,OAAO;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,SAAS;aAC1B;QACH,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,GAAG;gBACL,IAAI,EAAE,IAAI;gBACV,SAAS,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,YAAY,CAAC;gBACzE,OAAO,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,YAAY,CAAC;gBACrE,GAAG,EAAE,IAAI,CAAC,SAAS;gBACnB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,SAAS;aAC1B;QACH,CAAC;QACC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAG;YACpD,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAE,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,EAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;gBAChB,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ;YACrC,CAAC;QACH,CAAC,CAAC;IACN,CAAC;IAED,+BAAO,GAAP,UAAQ,MAAM,EAAE,IAAI;QAClB,gHAAgH;QAChH,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC;IAEC,sCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;IAC9C,CAAC;IAED,8BAAM,GAAN;QACE,IAAI,CAAC,SAAS,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,IAAI;IACJ,iCAAS,GAAT;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACrC,IAAI,EAAE,IAAI,CAAC,SAAS;YACpB,OAAO,EAAE,IAAI,CAAC,OAAO;SACtB,CAAC;IACN,CAAC;IAGD,6CAAqB,GAArB;QAAA,iBAoBC;QAnBC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC;YACpC,IAAI,EAAE,MAAM;YACZ,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,eAAe;YAC5D,iBAAiB,EAAE,IAAI;YACvB,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,IAAI;YACrB,MAAM,EAAE,SAAS;SAClB,CAAC,CAAC,IAAI,CACL,cAAI;YACF,EAAE,CAAC,CAAC,KAAI,CAAC,aAAa,IAAI,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;gBACzE,KAAI,CAAC,eAAe,GAAG,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC;gBACrE,KAAI,CAAC,WAAW,EAAE;YACpB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,+DAAK,CAAC,WAAW,CAAC,UAAU,EAAE,KAAI,CAAC,SAAS,CAAC;YAC/C,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,EAAvD,CAAuD,CAC7D,CAAC;IACN,CAAC;IAED,2CAAmB,GAAnB;QAAA,iBAoBC;QAnBC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YAClC,IAAI,EAAE,MAAM;YACZ,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,eAAe;YAC5D,iBAAiB,EAAE,IAAI;YACvB,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,IAAI;YACrB,MAAM,EAAE,SAAS;SAClB,CAAC,CAAC,IAAI,CACL,cAAI;YACF,EAAE,CAAC,CAAC,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC,IAAI,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC3E,KAAI,CAAC,aAAa,GAAG,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC;gBACnE,KAAI,CAAC,WAAW,EAAE;YACpB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,+DAAK,CAAC,WAAW,CAAC,UAAU,EAAE,KAAI,CAAC,SAAS,CAAC;YAC/C,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,EAAvD,CAAuD,CAC7D,CAAC;IACN,CAAC;IAED,WAAW;IACX,mCAAW,GAAX;QAAA,iBA8BC;QA7BC,IAAI,IAAI,CAAC;QACT,EAAE,EAAC,IAAI,CAAC,SAAS,IAAE,CAAC,CAAC,CAAC,EAAC;YACrB,IAAI,GAAG;gBACL,SAAS,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,YAAY,CAAC;gBACzE,OAAO,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,YAAY,CAAC;gBACrE,GAAG,EAAE,IAAI,CAAC,OAAO;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,SAAS;aAC1B;QACH,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,GAAG;gBACL,IAAI,EAAE,IAAI;gBACV,SAAS,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,YAAY,CAAC;gBACzE,OAAO,EAAE,+DAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,YAAY,CAAC;gBACrE,GAAG,EAAE,IAAI,CAAC,SAAS;gBACnB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,SAAS;aAC1B;QACH,CAAC;QACD,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,aAAG;YACpD,EAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,IAAE,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,EAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;gBAChB,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ;YACrC,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAGD,mCAAW,GAAX,UAAY,IAAI;QACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACnC,IAAI,EAAE,IAAI;SACX,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC;AAtPY,aAAa;IANzB,gEAAS,EAAE;IACX,wDAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,WAAW,kFAAmB;OACE;KACjC,CAAC;oFAmBsE;QACnD,6EAAS;QACN,gEAAU;QACd,iFAAO;QACK,0GAAmB;QAC5B,UAAe;AA+NrC;SAtPY,aAAa,gB;;;;;;;;;;;ACrBe;AACO;AACH;AAU7C,IAAa,mBAAmB;IAAhC;IAAkC,CAAC;IAAD,0BAAC;AAAD,CAAC;AAAtB,mBAAmB;IAR/B,uDAAQ,CAAC;QACR,YAAY,EAAE;YACZ,aAAa;SACd;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,aAAa,CAAC;SACxC;KACF,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;ACZ+B;AACpB;AAG3C,IAAa,mBAAmB;IAC5B,6BAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAE5C,CAAC;IACD,QAAQ;IACR,kDAAoB,GAApB,UAAqB,IAAI;QACrB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;IAC3D,CAAC;IAED,QAAQ;IACR,4CAAc,GAAd,UAAe,IAAI;QACf,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;IAGD,WAAW;IACX,2CAAa,GAAb,UAAc,GAAG;QACb,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACtB,GAAG,EAAE,GAAG;SACX,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IAC5D,CAAC;IAED,WAAW;IACX,+CAAiB,GAAjB;QACI,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,EACzB,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,UAAU;IACV,iDAAmB,GAAnB,UAAoB,IAAI;QACpB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IACL,0BAAC;AAAD,CAAC;AAlCY,mBAAmB;IAD/B,yDAAU,EAAE;qCAEwB,2EAAW;GADnC,mBAAmB,CAkC/B;AAlC+B","file":"76.js","sourcesContent":["import { WriteJournalService } from './../writejournalService';\nimport { Utils } from './../../../../providers/Utils';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { DatePicker } from '@ionic-native/date-picker';\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\nimport { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the VisitListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-visit-list',\n  templateUrl: 'visit-list.html',\n  providers: [WriteJournalService]\n})\nexport class VisitListPage {\n  startDate_visit;\n  endDate_visit;\n  user_id;\n  saleTeam;\n  dataList = [];\n  isMine = false;\n  visit_date_begin;//为了显示用\n  visit_date_end;\n  showTime;\n  // person = '我的';\n  team_id;\n  team_list = [];\n  teamGroup: any;\n  person_id;\n  isShowNull = false;\n  admin = false\n  manager = false\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public statusBar:StatusBar, \n    private datePicker: DatePicker,\n    public storage: Storage,\n    public writejournalService: WriteJournalService,\n    private toastCtrl: ToastController) {\n    this.person_id=-1\n    this.startDate_visit = Utils.dateFormat(new Date(), 'yyyy-MM-dd')\n    this.endDate_visit = Utils.dateFormat(new Date(), 'yyyy-MM-dd')\n\n    this.storage.get('user')\n    .then(res => {\n      this.user_id = res.result.res_data.user_id;\n      if(res.result.res_data.team){\n        this.saleTeam = res.result.res_data.team.team_name;\n        this.team_id = res.result.res_data.team.team_id;\n        this.getStartList()\n      }\n      for(let product of res.result.res_data.groups){\n        if (product.name == \"group_sale_manager\"){\n          this.admin = true\n          this.getStartList()\n          break;\n        }\n        if(product.name == \"group_sale_salesman_all_leads\"){\n          this.manager = true\n          this.writejournalService.get_sale_team(this.user_id).then(res =>{\n            if(res.result.res_code==1 && res.result){\n              console.log(res)\n              var list = res.result.res_data\n              var length = list.length;\n              for (var i=0; i < length; i++) {\n                this.team_list[i] = list[i].team_id\n                }\n                this.getStartList();\n            }\n           }\n          )\n        }\n      }\n      //请求team成员\n        let body = {\n          team_id: this.team_id\n        }\n        this.writejournalService.get_saleteam_person(body).then(res =>{\n          if(res.result.res_code==1 && res.result){\n            console.log(res)\n            this.teamGroup = res.result.res_data\n          }\n        })\n    });\n  }\n\n  //初始请求\n  getStartList(){\n      let bodyone = {\n        today: true,\n        todayTime: Utils.dateFormat(new Date(), 'yyyy-MM-dd'),\n        uid: this.user_id,\n        team_id: this.team_id,\n        admin: this.admin,\n        manager: this.manager,\n        team_list: this.team_list\n      }\n      this.writejournalService.get_visit_list(bodyone).then(res =>{\n        if(res.result.res_code==1 && res.result){\n          console.log(res)\n          this.dataList = res.result.res_data\n        }\n      })\n  }\n  ionViewDidEnter() {\n    console.log('visit   person_id = '+this.navParams.get('person_id'))\n    console.log('visit   team_id = '+this.navParams.get('team_id'))\n    if(this.navParams.get('person_id') || this.navParams.get('team_id')){\n      this.admin = false\n      this.manager = false\n      this.person_id = this.navParams.get('person_id')\n      this.team_id = this.navParams.get('team_id')\n      this.navParams.data.person_id = false;\n      this.navParams.data.team_id = false;\n      this.getList()\n    }\n  }\n  ionViewWillEnter() {\n    this.statusBar.backgroundColorByHexString(\"#2597ec\");\n    this.statusBar.styleLightContent();\n  }\n  getList(){\n    this.dataList = []\n    let body;\n    if(this.person_id==-1){\n      body = {\n        startTime: Utils.dateFormat(new Date(this.startDate_visit), 'yyyy-MM-dd'),\n        endTime: Utils.dateFormat(new Date(this.endDate_visit), 'yyyy-MM-dd'),\n        uid: this.user_id,\n        team_id: this.team_id,\n        admin: this.admin,\n        manager: this.manager,\n        team_list: this.team_list\n      }\n    }else{\n      body = {\n        mine: true,\n        startTime: Utils.dateFormat(new Date(this.startDate_visit), 'yyyy-MM-dd'),\n        endTime: Utils.dateFormat(new Date(this.endDate_visit), 'yyyy-MM-dd'),\n        uid: this.person_id,\n        team_id: this.team_id,\n        admin: this.admin,\n        manager: this.manager,\n        team_list: this.team_list\n      }\n    }\n      this.writejournalService.get_visit_list(body).then(res =>{\n        if(res.result.res_code==1 && res.result){\n          console.log(res)\n          this.dataList = res.result.res_data\n        }\n      })\n  }\n  \n  getTime(startT, endT){\n    // return Utils.dateFormat(new Date(startT), 'yyyy-MM-dd HH:mm')+\" ~ \"+Utils.dateFormat(new Date(endT), 'HH:mm')\n    return startT + \"~\" + endT.split(\" \")[1]\n}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VisitListPage');\n  }\n\n  goBack(){\n    this.statusBar.backgroundColorByHexString(\"#f8f8f8\");\n    this.statusBar.styleDefault();\n    this.navCtrl.pop();\n  }\n\n  //筛选\n  clickMenu(){\n      this.navCtrl.push('VisitBiaoqianPage', {  \n        item: this.teamGroup,\n        team_id: this.team_id\n      })\n  }\n\n\n  chooseStartDate_visit(){\n    this.datePicker.show({\n      date: new Date(this.startDate_visit),\n      mode: 'date',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK,\n      cancelButtonLabel: \"取消\",\n      cancelText: \"取消\",\n      doneButtonLabel: \"确定\",\n      locale: \"zh-Hans\",\n    }).then(\n      date => {\n        if (this.endDate_visit >= Utils.dateFormat(new Date(date), 'yyyy-MM-dd')) {\n          this.startDate_visit = Utils.dateFormat(new Date(date), 'yyyy-MM-dd')\n          this.dateChanged()\n        } else {\n          Utils.toastButtom(\"请选择正确的日期\", this.toastCtrl)\n        }\n      },\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  chooseEndDate_visit(){\n    this.datePicker.show({\n      date: new Date(this.endDate_visit),\n      mode: 'date',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK,\n      cancelButtonLabel: \"取消\",\n      cancelText: \"取消\",\n      doneButtonLabel: \"确定\",\n      locale: \"zh-Hans\",\n    }).then(\n      date => {\n        if (Utils.dateFormat(new Date(date), 'yyyy-MM-dd') >= this.startDate_visit) {\n          this.endDate_visit = Utils.dateFormat(new Date(date), 'yyyy-MM-dd')\n          this.dateChanged()\n        } else {\n          Utils.toastButtom(\"请选择正确的日期\", this.toastCtrl)\n        }\n      },\n      err => console.log('Error occurred while getting date: ', err)\n      );\n  }\n\n  //日期更改后刷新数据\n  dateChanged() {\n    let body;\n    if(this.person_id==-1){\n      body = {\n        startTime: Utils.dateFormat(new Date(this.startDate_visit), 'yyyy-MM-dd'),\n        endTime: Utils.dateFormat(new Date(this.endDate_visit), 'yyyy-MM-dd'),\n        uid: this.user_id,\n        team_id: this.team_id,\n        admin: this.admin,\n        manager: this.manager,\n        team_list: this.team_list\n      }\n    }else{\n      body = {\n        mine: true,\n        startTime: Utils.dateFormat(new Date(this.startDate_visit), 'yyyy-MM-dd'),\n        endTime: Utils.dateFormat(new Date(this.endDate_visit), 'yyyy-MM-dd'),\n        uid: this.person_id,\n        team_id: this.team_id,\n        admin: this.admin,\n        manager: this.manager,\n        team_list: this.team_list\n      }\n    }\n    this.writejournalService.get_visit_list(body).then(res =>{\n      if(res.result.res_code==1 && res.result){\n        console.log(res)\n        this.dataList = res.result.res_data\n      }\n    })\n  }\n\n\n  visitDetail(item){\n    this.navCtrl.push('VisitDetailPage', {\n      item: item\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/journal-sheet/visit-list/visit-list.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VisitListPage } from './visit-list';\n\n@NgModule({\n  declarations: [\n    VisitListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VisitListPage),\n  ],\n})\nexport class VisitListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/journal-sheet/visit-list/visit-list.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class WriteJournalService{\n    constructor(private httpservice: HttpService) {\n\n    }\n    //创建拜访记录\n    create_visit_journal(body) {\n        return this.httpservice.postBody(\"create_visit\", body);\n    }\n\n    //获取拜访列表\n    get_visit_list(body){\n        return this.httpservice.postBody(\"get_visit_list\", body);\n    }\n\n\n    //获取管理的销售团队\n    get_sale_team(uid){\n        let body = JSON.stringify({\n            uid: uid\n        });\n        return this.httpservice.postBody(\"get_sale_team\", body);\n    }\n\n    //获取所有的销售团队\n    get_all_sale_team(){\n        let body = JSON.stringify({\n        });\n        return this.httpservice.postBody(\"get_all_sale_team\", body);\n    }\n\n    //获取团队的销售员\n    get_saleteam_person(body){\n        return this.httpservice.postBody(\"get_saleteam_person\", body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/journal-sheet/writejournalService.ts"],"sourceRoot":""}