{"version":3,"sources":["../../src/pages/work-bench/reimbursement/reimbursement-detail/edit-reimbursement/edit-reimbursement.ts","../../src/pages/work-bench/reimbursement/reimbursement-detail/edit-reimbursement/edit-reimbursement.module.ts"],"names":[],"mappings":"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","file":"143.js","sourcesContent":["import { NavController, NavParams, IonicPage,AlertController,ToastController,Platform } from 'ionic-angular';\nimport { Component } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Utils } from './../../../../../providers/Utils';\nimport { Toast } from '@ionic-native/toast';\ndeclare let cordova: any;\n\n/**\n * Generated class for the EditReimbursementPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-edit-reimbursement',\n  templateUrl: 'edit-reimbursement.html',\n})\nexport class EditReimbursementPage {\n  productList;\n  amount: any;\n  remark;\n  remarks;  //备注\n  mBaoxiaoApplyPage;\n  production;\n  productIndex;\n  changeItem;\n  taxIndex\n  taxList;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public platform: Platform,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController) {\n    this.mBaoxiaoApplyPage = Utils.getViewController(\"ReimbursementDetailPage\", navCtrl);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad EditReimbursementPage');\n  }\n\n  ionViewDidEnter() {\n    this.productList = this.navParams.get(\"product\");\n    this.changeItem = this.navParams.get(\"item\");\n    this.taxList = this.navParams.get(\"taxList\");\n    console.log(this.taxList)\n    if (this.changeItem) {\n      this.production = this.changeItem;\n      console.log(this.production)\n      this.amount = this.production.unit_amount;\n      this.remark = this.production.name;\n      this.remarks = this.production.description;\n      for(let i = 0 ;i<this.productList.length;i++){\n        if((new RegExp(this.production.product_id).test(this.productList[i].name)) || this.production.product_id == this.productList[i].name){\n          this.productIndex = i\n        }\n      }\n      // console.log(this.production.tax_ids[0].displayname)\n      if (this.production.tax_ids.length){\n        for(let i = 0 ;i<this.taxList.length;i++){\n        if(this.taxList[i].name== this.production.tax_ids[0].display_name){\n          this.taxIndex = i\n        }\n      }\n      }\n      else\n      {\n        let i = 0\n        for (let item of this.taxList) {\n          if (item.display_name == \"0%进\"){\n            this.taxIndex = i\n          }\n          i = i + 1\n        }\n      }\n      \n      console.log(this.taxIndex)\n    }\n  }\n\n  ionViewWillLeave(){\n    if(this.platform.is('ios')){\n      cordova.plugins.Keyboard.close();\n    }\n  }\n\n  goBack() {\n    if (this.productIndex || this.amount || this.remark) {\n      this.alertCtrl.create({\n        title: '提示',\n        subTitle: '已输入内容，是否确认返回？',\n        buttons: [{ text: '取消' },\n        {\n          text: '确定',\n          handler: () => {\n            this.navCtrl.pop();\n          }\n        }\n        ]\n      }).present();\n    }\n    else {\n      this.navCtrl.pop();\n    }\n  }\n\n  save() {\n    if (parseFloat(this.amount) <= 0)\n    {\n      Utils.toastButtom(\"金额必须大于0\",this.toastCtrl)\n      return;\n    }\n    let mString = \"\";\n    if (this.productIndex!=0 &&!this.productIndex) {\n      mString = mString + \"   请选择费用类别\"\n    }\n    if (!this.amount) {\n      mString = mString + \"   请填写金额\"\n    }\n    if (!this.remark) {\n      mString = mString + \"   请填写消费用途\"\n    }\n    if (mString != \"\") {\n      Utils.toastButtom(mString, this.toastCtrl)\n    } else {\n      if (this.amount && this.remark) {\n        this.production = [];\n        // this.production.productId = this.productList[this.productIndex].id;\n        this.production.product_id = this.productList[this.productIndex].name;\n        this.production.unit_amount = this.amount;\n        this.production.name = this.remark;\n        this.production.description = this.remarks;\n        // this.production.tax_ids[0].display_name = this.taxIndex ;\n        console.log(this.taxIndex)\n        if(this.taxIndex==0||this.taxIndex){\n          this.production.tax_ids= [{\n            display_name:this.taxList[this.taxIndex].name,\n          }];\n        }\n        this.production.productIndex = this.productIndex;\n        this.mBaoxiaoApplyPage.data.production = this.production;\n        this.mBaoxiaoApplyPage.data.isAdd = true;\n        this.mBaoxiaoApplyPage.data.isChange = this.changeItem ? true : false;;\n        this.navCtrl.pop();\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/reimbursement/reimbursement-detail/edit-reimbursement/edit-reimbursement.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditReimbursementPage } from './edit-reimbursement';\n\n@NgModule({\n  declarations: [\n    EditReimbursementPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditReimbursementPage),\n  ],\n})\nexport class EditReimbursementPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/reimbursement/reimbursement-detail/edit-reimbursement/edit-reimbursement.module.ts"],"sourceRoot":""}