{"version":3,"sources":["../../src/pages/work-bench/kaoqin/kaoqin-people/kaoqin-people.ts","../../src/pages/work-bench/kaoqin/kaoqin-people/kaoqin-people.module.ts","webpack:///./src/pages/work-bench/kaoqin/kaoqinService.ts?7d31**"],"names":[],"mappings":"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","file":"74.js","sourcesContent":["import { BLE } from '@ionic-native/ble';\nimport { Component,ElementRef,ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { KaoQinService} from './../kaoqinService';\nimport { DatePipe } from '@angular/common';\nimport { IonicPage, NavController, NavParams, Platform,AlertController ,ToastController,LoadingController} from 'ionic-angular';\n\n/**\n * Generated class for the KaoqinPeoplePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-kaoqin-people',\n  templateUrl: 'kaoqin-people.html',\n  providers:[KaoQinService,DatePipe],\n})\nexport class KaoqinPeoplePage {\n  manager_id;\n  type;\n  current_date;\n  items = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams,public kaoQinService:KaoQinService,\n  public datePipe :DatePipe) {\n    this.manager_id = this.navParams.get('manager_id')\n    this.type = this.navParams.get('type')\n    this.current_date = this.navParams.get('current_date')\n    var timestamp = Date.parse(this.current_date);\n    var timestamp_now = timestamp / 1000 - 24 * 60 * 60\n    var date_later = new Date(timestamp_now * 1000)\n    this.kaoQinService.get_department_employee_attendance(this.manager_id,this.formatTime_day_start(this.current_date),this.formatTime_day_end(this.current_date)).then(res => {\n      if (res.result.res_data && res.result.res_code == 1) {\n        if (this.type == \"未打卡\"){\n          this.items = res.result.res_data.un_attendance\n        }\n        else\n        {\n          this.items = res.result.res_data.attendance\n        }\n      }\n    })\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad KaoqinPeoplePage');\n  }\n\n  formatTime_day_start(date){\n    \n    let timestamp = Date.parse(this.datePipe.transform(date, 'yyyy-MM-dd').replace(/-/g, '/'));\n    let timestamp_now = timestamp / 1000 - 24 * 60 * 60\n    let date_now = new Date(timestamp_now * 1000)\n    let year = date_now.getFullYear()\n    let month = date_now.getMonth() + 1\n    let day = date_now.getDate()\n    let hour = 16\n    let minute = 0\n    let second = 0\n    return [year, month, day].join('-') + ' ' + [hour, minute, second].join(':')\n  }\n\n  formatTime_day_end(date){\n    let year = date.getFullYear()\n    let month = date.getMonth() + 1\n    let day = date.getDate()\n    let hour = 15\n    let minute = 59\n    let second = 59\n    return [year, month, day].join('-') + ' ' + [hour, minute, second].join(':')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/kaoqin/kaoqin-people/kaoqin-people.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { KaoqinPeoplePage } from './kaoqin-people';\n\n@NgModule({\n  declarations: [\n    KaoqinPeoplePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(KaoqinPeoplePage),\n  ],\n})\nexport class KaoqinPeoplePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/kaoqin/kaoqin-people/kaoqin-people.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class KaoQinService {\n    constructor(private httpservice: HttpService) {\n\n    }\n    get_today_attendance(day_start,day_end,user_id)\n    {\n        let body = JSON.stringify({\n            day_start:day_start,\n            day_end:day_end,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"get_today_attendance\",body);\n    }\n\n    employee_attendance(data_params)\n    {\n        let body = JSON.stringify(data_params);\n       return this.httpservice.postBodyNoLoading(\"employee_attendance\",body);\n    }\n\n    get_ble_device(){\n        let body = JSON.stringify({});\n       return this.httpservice.postBodyNoLoading(\"get_ble_device\",body);\n    }\n\n    get_employee_attendance(day_start,day_end,user_id){\n        let body = JSON.stringify({\n            day_start:day_start,\n            day_end:day_end,\n            user_id:user_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_employee_attendance\",body);\n    }\n\n    get_is_department(employee_id){\n        let body = JSON.stringify({\n            employee_id:employee_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_is_department\",body);\n    }\n\n    get_department_employee_attendance(manager_id,day_start,day_end){\n        let body = JSON.stringify({\n            manager_id:manager_id,\n            day_start:day_start,\n            day_end:day_end,\n        });\n       return this.httpservice.postBody(\"get_department_employee_attendance\",body);\n    }\n\n    trans_location(latitude,longti){\n       let url_str = \"http://api.map.baidu.com/geoconv/v1/?coords=\" + longti + \",\" + latitude + \"&from=1&to=5&ak=cVef1ROo1IR5OkZ5Fly78vDuOoGmLmD7\" \n       return this.httpservice.getWithUrl(url_str);\n    }\n\n    get_location_now(latitude,longti){\n        let url_str = \"http://api.map.baidu.com/geocoder/v2/?callback=renderReverse&location=\" + latitude + \",\" + longti + \"&output=json&pois=1&ak=cVef1ROo1IR5OkZ5Fly78vDuOoGmLmD7\"\n        return this.httpservice.getLocationWithUrl(url_str);\n    }\n\n    location_attendance(data_params)\n    {\n        let body = JSON.stringify(data_params);\n       return this.httpservice.postBody(\"location_attendance\",body);\n    }\n\n    get_month_attendance(month_str, user_id)\n    {\n        let body = JSON.stringify({\n            month_str:month_str,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"get_month_attendance\",body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/kaoqin/kaoqinService.ts"],"sourceRoot":""}