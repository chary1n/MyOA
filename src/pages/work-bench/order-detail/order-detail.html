<!--
  Generated template for the OrderDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{item.name}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only tappable (click)="presentPopover($event)">
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-item-group>
    <!-- <ion-item-divider class="divider" color="light"></ion-item-divider> -->
    <ion-item>
      <ion-label class="left_label">供应商</ion-label>
      <ion-label class="right_label" style="text-align:right" item-end>{{item.supplier}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">单据日期</ion-label>
      <ion-label class="right_label" style="text-align:right" item-end>{{item.data_order}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">交期</ion-label>
      <ion-label class="right_label" style="text-align:right" item-end>{{item.date_planned}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">税率</ion-label>
      <ion-label item-end class="right_label" style="color:#55c4f5;text-align:right">{{item.tax.tax_id}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">币种</ion-label>
      <ion-label item-end class="right_label" style="color:#55c4f5;text-align:right">{{item.currency.currency_name}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">未含税金额</ion-label>
      <ion-label item-end class="right_label" style="text-align:right">{{item.amount_untaxed}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">税金</ion-label>
      <ion-label item-end class="right_label" style="text-align:right">{{item.amount_tax}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">总计</ion-label>
      <ion-label item-end class="right_label" style="text-align:right">{{item.amount_total}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">总数量</ion-label>
      <ion-label item-end class="right_label" style="text-align:right">{{item.product_count}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="left_label">备注信息</ion-label>
      <ion-label text-wrap item-end class="right_label" style="text-align:right">{{item.notes}}</ion-label>
    </ion-item>

  </ion-item-group>

  <ion-item-divider class="divider" color="light"></ion-item-divider>
  <ion-list>
    <ion-item *ngFor='let detail of item.order_lines;let i  = index'>
      <p text-wrap>产品 {{i+1}} {{detail.name}}</p>
      <h2 text-wrap> 规格 {{detail.specs}}</h2>
      <h4 text-wrap>交期 {{item.date_planned}}</h4>
      <p>订购： {{detail.product_qty}} * {{detail.price_unit}}</p>
      <p>计量单位 {{detail.product_uom}}</p>
      <p *ngIf="showNumber" style="float:right;color:#1e1e1e;font-weight:bold;font-size:70%;">已接收 {{detail.qty_received}} * {{detail.price_unit}}</p>
      <p *ngIf="showNumber" style="float:right">开单数量 : {{detail.qty_invoiced}} * {{detail.price_unit}}</p>
      <p>小计 {{detail.price_subtotal}}</p>
    </ion-item>
  </ion-list>
</ion-content>
