<!--
  Generated template for the ReimbursementPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!--<ion-header no-border>

  <ion-navbar color="bx-color">
  </ion-navbar>
  
</ion-header>-->

<ion-content style="background-color:#f0f2f5">
  <div ion-fixed class="div_header">
    <div class="div_header_back">

      <ion-auto-complete *ngIf="type == 'me'" class="search_class" (itemSelected)="itemMeSelected($event)" (itemClearSelected)="itemClearMeSelected($event)"
        [dataProvider]="zanzhiMeAutoServices"></ion-auto-complete>

      <ion-auto-complete *ngIf="type != 'me'" class="search_class" (itemSelected)="itemSelected($event)" (itemClearSelected)="itemClearSelected($event)"
        [dataProvider]="zanzhiAutoServices"></ion-auto-complete>
      <button class="btn_class" ion-button icon-only (click)="goBack()">
        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
      </button>
    </div>
    <div align="center" class="main_header_div">
      <div class="div_me" align="center" tappable (click)="clickAlreadyApply()">
        <p [ngClass]="{true:'p_message_line_height_select',false:'p_message_line_height'}[type=='me_approved']">我已审批</p>
      </div>
      <div class="div_wait" align="center" tappable (click)="clickWaitMeApply()">
        <p [ngClass]="{true:'p_shenhe_line_height_select',false:'p_shenhe_line_height'}[type=='wait_approved']">待我审批</p>
      </div>
      <div [ngClass]="{true:'div_approve_ios',false:'div_approve'}[is_ios]" align="center" tappable (click)="clickMeApply()">
        <p [ngClass]="{true:'p_daiban_line_height_select',false:'p_daiban_line_height'}[type=='me']">我的申请</p>
      </div>
    </div>
  </div>
  <div *ngIf="type == 'wait_approved'" style="margin-top: 100px;">

    <!--<ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>-->
    <ion-list>
      <div *ngFor='let item of wait_approval_list;let i = index'>
        <ion-item no-lines [ngClass]="{true:'item_empty_class',false:'item_class'}[i == 0]" tappable (click)='approved_detail(item)'>
          <p text-wrap style="float:right;color:#000000;font-size:80%;color:gray;margin-top: 2px;">{{item.apply_date}}</p>
          <h4 text-wrap style="font-size:80%;color:#000000;">{{item.name}} <span style="margin-left:10px"> {{item.employee}}</span></h4>
          <p text-wrap style="float:right;color:red;font-weight:bold;font-size:70%;"> {{changeState(item.state)}} </p>
          <p text-wrap style="font-size:80%;color:gray">申请金额(元)：{{item.amount}} </p>
        </ion-item>
      </div>
    </ion-list>
    <!--<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>-->
  </div>
  <div *ngIf="type == 'me_approved'" style="margin-top: 100px;">
    <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list>
      <div *ngFor='let item of already_approval_list;let i = index'>
        <ion-item no-lines [ngClass]="{true:'item_empty_class',false:'item_class'}[i == 0]" tappable (click)='approved_detail(item)'>
          <p text-wrap style="float:right;color:#000000;font-size:80%;color:gray;margin-top: 2px;">{{item.apply_date}}</p>
          <h4 text-wrap style="font-size:80%;color:#000000;">{{item.name}} <span style="margin-left:10px"> {{item.employee}}</span></h4>
          <p text-wrap style="float:right;color:red;font-weight:bold;font-size:70%;"> {{changeState(item.state)}} </p>
          <p text-wrap style="font-size:80%;color:gray">申请金额(元)：{{item.amount}} </p>
        </ion-item>
      </div>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>

  <div *ngIf="type == 'me'" style="margin-top: 100px;">
    <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list>
      <div *ngFor='let item of applyList;let i = index'>
        <ion-item no-lines [ngClass]="{true:'item_empty_class',false:'item_class'}[i == 0]" tappable (click)='approved_detail(item)'>
          <p text-wrap style="float:right;color:#000000;font-size:80%;color:gray;margin-top: 2px;">{{item.apply_date}}</p>
          <h4 text-wrap style="font-size:80%;color:#000000;">{{item.name}} <span style="margin-left:10px"> {{item.employee}}</span></h4>
          <p text-wrap style="float:right;color:red;font-weight:bold;font-size:70%;"> {{changeState(item.state)}} </p>
          <p text-wrap style="font-size:80%;color:gray">申请金额(元)：{{item.amount}} </p>
        </ion-item>
      </div>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
</ion-content>